# Демо: React + Vite + immediatelyActivateUpdateOnSignalSW

Минимальное приложение на React и Vite с Service Worker на базе **immediatelyActivateUpdateOnSignalSW** (offline-first + первая установка сразу, обновление по сигналу со страницы).

## Локальный запуск (с SW и офлайном)

Из корня репозитория:

```bash
cd demo && pnpm start
```

Откройте указанный URL (обычно `http://localhost:4173`). В DevTools → Network остановите сервер и обновите страницу — контент должен отдаваться из кеша.

При каждом запросе `sw.js` сервер вносит изменения в скрипт, чтобы имитировать изменения сервисворкера.

## Что демонстрируется

- Регистрация SW из приложения (`/sw.js`).
- Пресет `offlineFirst`: precache при `install`, отдача из кеша в `fetch`.
- Плагин `skipWaitingOnMessage`: по сообщению `SW_MSG_SKIP_WAITING` со страницы вызывает `skipWaiting()` и `claim()` .
- Кнопка «Применить» отправляет это сообщение **ожидающему** воркеру, после чего он активируется и берет управление над страницей (галка **Update on reload** должна быть не активной). Для отладки можно открыть консоль у воркера (кнопка «inspect» у SW) и убедиться, что при нажатии «Применить» воркер получает сообщение и активируется.
- Индикатор онлайн/офлайн и статус SW.
