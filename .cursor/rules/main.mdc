---
description: Main project rules
globs: ['src/**/*.ts', 'src/**/*.tsx', 'src/**/*.css']
alwaysApply: true
---

# Main Rules

## 1. Edits only after explicit consent

**You must not** call `search_replace`, `write`, or `delete_file` unless **both** are true:
- You asked in this conversation: "Делать?" / "Приступить к реализации?" (or equivalent);
- The user's **next** message contains one of: **делай**, **ок**, **добавь**, **приступай**, **согласен**, **да** (meaning "yes, do it").

No other wording counts. "Желательно…", "да" as agreement with an idea, or "task is clear" are **not** consent to edit. If in doubt — do not edit; ask "Делать?".

## 2. Discuss first

Propose the plan → answer questions → only after explicit consent (§1) → apply changes. Push back if the request is wrong or suboptimal.

## 3. After edits

Run type-check, lint, tests. Fix errors. Update docs/rules if needed.

## 4. Forbidden

- Editing without consent (§1).
- Long-lived background processes without being asked; if you started one — warn the user to stop it.
- eslint-disable / ts-ignore without agreement.
- Default exports — named exports only.

## 5. Language

Rules and internal notes: English. User writes in Russian. You reply to the user **in Russian**.

---

**Related:** [types.mdc](.cursor/rules/types.mdc)
